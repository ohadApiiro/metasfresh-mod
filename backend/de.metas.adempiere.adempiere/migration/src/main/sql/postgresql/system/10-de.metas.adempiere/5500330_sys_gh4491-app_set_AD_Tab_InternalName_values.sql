-- 2018-08-31T13:05:06.098
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='C_Flatrate_Conditions',Updated=TO_TIMESTAMP('2018-08-31 13:05:06','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540331
;

-- 2018-08-31T13:05:21.821
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='C_Flatrate_Matching',Updated=TO_TIMESTAMP('2018-08-31 13:05:21','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540339
;

-- 2018-08-31T13:05:26.717
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='C_Flatrate_RefundConfig',Updated=TO_TIMESTAMP('2018-08-31 13:05:26','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=541106
;

-- 2018-08-31T13:06:10.003
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Window SET InternalName='C_Flatrate_Conditions',Updated=TO_TIMESTAMP('2018-08-31 13:06:10','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Window_ID=540113
;

-- 2018-08-31T13:20:23.148
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='AD_Process_Para_Oder',Updated=TO_TIMESTAMP('2018-08-31 13:20:23','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540719
;

-- 2018-08-31T13:21:18.523
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='C_BPartner_Customer',Updated=TO_TIMESTAMP('2018-08-31 13:21:18','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=223
;

-- 2018-08-31T13:21:27.658
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='Vendor',Updated=TO_TIMESTAMP('2018-08-31 13:21:27','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=224
;

-- 2018-08-31T13:21:36.623
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='Customer',Updated=TO_TIMESTAMP('2018-08-31 13:21:36','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=223
;

-- 2018-08-31T13:22:26.236
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='Employee',Updated=TO_TIMESTAMP('2018-08-31 13:22:26','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=225
;

-- 2018-08-31T13:22:37.663
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='Manufacturer',Updated=TO_TIMESTAMP('2018-08-31 13:22:37','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=541154
;

-- 2018-08-31T13:23:29.867
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='AD_Role_PermRequest_Denied',Updated=TO_TIMESTAMP('2018-08-31 13:23:29','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=53317
;

-- 2018-08-31T13:24:32.682
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='C_SubscriptionProgress_Planned',Updated=TO_TIMESTAMP('2018-08-31 13:24:32','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540886
;

-- 2018-08-31T13:24:48.366
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='C_SubscriptionProgress_Actual',Updated=TO_TIMESTAMP('2018-08-31 13:24:48','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540880
;

-- 2018-08-31T13:25:14.458
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='C_Flatrate_DataEntry',Updated=TO_TIMESTAMP('2018-08-31 13:25:14','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540860
;

-- 2018-08-31T13:25:20.603
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='C_Flatrate_DataEntry_Currection',Updated=TO_TIMESTAMP('2018-08-31 13:25:20','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540861
;

-- 2018-08-31T13:25:28.602
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='C_Flatrate_DataEntry_Procurement',Updated=TO_TIMESTAMP('2018-08-31 13:25:28','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540862
;

-- 2018-08-31T13:28:09.629
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='ESR_ImportLine_Error',Updated=TO_TIMESTAMP('2018-08-31 13:28:09','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540642
;

-- 2018-08-31T13:28:50.541
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='C_Flatrate_DataEntry',Updated=TO_TIMESTAMP('2018-08-31 13:28:50','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540329
;

-- 2018-08-31T13:28:58.750
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='C_Flatrate_DataEntry_Correction',Updated=TO_TIMESTAMP('2018-08-31 13:28:58','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540330
;

-- 2018-08-31T13:29:27.216
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='M_HU_Assignment',Updated=TO_TIMESTAMP('2018-08-31 13:29:27','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540629
;

-- 2018-08-31T13:29:38.416
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='M_HU_Assignment_BOMLine',Updated=TO_TIMESTAMP('2018-08-31 13:29:38','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540628
;

-- 2018-08-31T13:30:08.027
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='M_Material_Tracking_Ref_Receipt',Updated=TO_TIMESTAMP('2018-08-31 13:30:08','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540705
;

-- 2018-08-31T13:30:12.130
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='M_Material_Tracking_Ref',Updated=TO_TIMESTAMP('2018-08-31 13:30:12','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540611
;

-- 2018-08-31T13:30:40.926
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='M_Material_Tracking_Ref_QI',Updated=TO_TIMESTAMP('2018-08-31 13:30:40','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540611
;

-- 2018-08-31T13:30:55.252
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='M_Material_Tracking_Ref_PP_Order',Updated=TO_TIMESTAMP('2018-08-31 13:30:55','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540612
;

-- 2018-08-31T13:30:59.916
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='M_Material_Tracking_Ref_PP_Order_QI',Updated=TO_TIMESTAMP('2018-08-31 13:30:59','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540611
;

-- 2018-08-31T13:31:16.006
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='M_Material_Tracking_Ref_Other',Updated=TO_TIMESTAMP('2018-08-31 13:31:16','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540613
;

-- 2018-08-31T13:31:51.389
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='C_ProjectLine_Project',Updated=TO_TIMESTAMP('2018-08-31 13:31:51','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=797
;

-- 2018-08-31T13:31:55.652
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='C_ProjectLine_Phase',Updated=TO_TIMESTAMP('2018-08-31 13:31:55','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=799
;

-- 2018-08-31T13:32:00.944
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='C_ProjectLine_Task',Updated=TO_TIMESTAMP('2018-08-31 13:32:00','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=796
;

-- 2018-08-31T13:32:29.866
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='Customer',Updated=TO_TIMESTAMP('2018-08-31 13:32:29','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=541014
;

-- 2018-08-31T13:32:34.937
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='Vendor',Updated=TO_TIMESTAMP('2018-08-31 13:32:34','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=541015
;

-- 2018-08-31T13:33:11.154
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='Customer',Updated=TO_TIMESTAMP('2018-08-31 13:33:11','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540845
;

-- 2018-08-31T13:33:16.867
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='Vendor',Updated=TO_TIMESTAMP('2018-08-31 13:33:16','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=540846
;

-- 2018-08-31T13:33:53.708
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='M_ChangeRequest_BOM',Updated=TO_TIMESTAMP('2018-08-31 13:33:53','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=735
;

-- 2018-08-31T13:33:59.854
-- I forgot to set the DICTIONARY_ID_COMMENTS System Configurator
UPDATE AD_Tab SET InternalName='M_ChangeRequest_Fixed',Updated=TO_TIMESTAMP('2018-08-31 13:33:59','YYYY-MM-DD HH24:MI:SS'),UpdatedBy=100 WHERE AD_Tab_ID=736
;

--
-- set "most" of the remaining internal names
--
UPDATE AD_Tab tab_outer
SET InternalName=data.TableName, Updated=now(), UpdatedBy=99
FROM
(
	select tab.AD_Tab_ID, tab.InternalName, t.TableName 
	FROM AD_Table t
		JOIN AD_Tab tab ON t.AD_Table_ID=tab.AD_Table_ID
	WHERE COALESCE(trim(tab.InternalName),'')=''
	--	AND IsSortTab='N'
	--	and internalname='AD_Process_Para'
		AND t.TableName NOT IN ('PP_MRP_Alloc') -- legacy table, no point bothering

		AND tab.AD_Window_ID NOT IN (
			select tab.AD_Window_ID /*, t.TableName , count(*)*/
			FROM AD_Table t
				JOIN AD_Tab tab ON t.AD_Table_ID=tab.AD_Table_ID
--			WHERE COALESCE(trim(tab.InternalName),'')=''
			group by tab.AD_Window_ID, t.TableName
			having count(*)>1
		)
) data
WHERE data.AD_Tab_ID=tab_outer.AD_Tab_ID;
