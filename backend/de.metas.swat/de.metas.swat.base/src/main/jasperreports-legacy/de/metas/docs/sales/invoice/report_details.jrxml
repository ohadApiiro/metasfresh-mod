<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report_details" pageWidth="595" pageHeight="842" columnWidth="595" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" resourceBundle="de/metas/docs/sales/invoice/report" uuid="9cbb1211-c2e8-4a8e-966b-e564bfc4c4f5">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<import value="java.util.*"/>
	<parameter name="c_invoice_id" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[new Integer(1000000)]]></defaultValueExpression>
	</parameter>
	<parameter name="ad_language" class="java.lang.String">
		<defaultValueExpression><![CDATA[new String("DE_de")]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select * from
(
SELECT
	il.C_InvoiceLine_ID,
	(SELECT AD_Language FROM AD_Language WHERE IsBaseLanguage = 'Y') AS ad_language,
	il.c_invoice_id				AS c_invoice_id,
	il.line					AS line,
	coalesce(ol.singlepricetag_id,
		ol.c_orderline_id)		AS singlepricetag,

	CASE WHEN ol.singlepricetag_id IS NULL
		THEN true
		ELSE false
	END 					AS printprices,

	CASE WHEN ol.M_WareHouse_ID = org.Dropship_Warehouse_ID
		THEN true
		ELSE false
	END 					AS isdropship,

	p.m_product_id				AS m_product_id,
	CASE WHEN ol.isindividualdescription = 'Y'
		THEN il.productdescription
		ELSE NULL
	END AS Prod_descr,
	il.qtyinvoiced 				AS qtyinvoiced,
	il.qtyentered				AS qtyentered,
	ol.qtyordered - ol.qtydelivered		AS qtybackordered,
	uom.uomsymbol				AS uomsymbol,
	--abo.name 				AS abo_name,
	--abo.description			AS abo_descr,
	il.description				AS description,
	il.pricelist				AS pricelist,

	CASE WHEN il.qtyentered <> 0::numeric --division durch null verhindern
		THEN il.pricelist * il.qtyinvoiced / il.qtyentered
		ELSE NULL::numeric
	END AS priceenteredlist,
	ol.discount				AS discount,
	CASE WHEN i.istaxincluded='Y'
		THEN (il.priceactual/(100+t.rate)*100)
		ELSE null
	END AS priceactual,
	il.priceactual				AS priceentered,
	il.linenetamt				AS linenetamt,
	COALESCE(cur.cursymbol,cur.iso_code) 	AS iso_code,
	t.rate					as taxrate,
	io.m_inout_id				as m_inout_id,
	io.documentno 				as inout_docno,
	io.movementdate 			as inout_date,
	o.documentno 				as order_docno,
	COALESCE(o.poreference,' ')		as order_poreference,
	o.dateordered				as order_dateordered,

	case when io.c_bpartner_location_id = i.c_bpartner_location_id
		then null
		else coalesce(regexp_replace(io.bpartneraddress, '\\n', ', ', 'g'), trim(
			case when bp.name 	is null then ''	else bp.name || ' - '	end ||
			case when bp.name2 	is null then ''	else bp.name2 || ', '	end ||
			case when l.address1 	is null then ''	else l.address1 || ', '	end ||
			case when l.address2 	is null then ''	else l.address2 || ', '	end ||
			case when l.address3 	is null then ''	else l.address3 || ', '	end ||
			case when l.address4 	is null then ''	else l.address4 || ', '	end ||
			case when l.postal 	is null then ''	else l.postal		end ||
			case when l.city 	is null then ''	else ' ' || l.city	end
		)) end as bp_addressblock,
	i.isdiscountprinted,

	case when il.m_product_id IS NULL
		then 'DEL'
		else
		case when il.qtyinvoiced = 0
			then 'NOAMT'
			else 'IL'
		end
	end as tag

FROM
	c_invoiceline il
	JOIN AD_OrgInfo org		ON il.AD_Org_ID			= org.AD_Org_ID
	JOIN c_uom uom 			ON il.c_uom_id			= uom.c_uom_id
	JOIN c_invoice i 		ON il.c_invoice_id 		= i.c_invoice_id
   LEFT JOIN c_orderline ol		ON il.c_orderline_id		= ol.c_orderline_id
   LEFT JOIN c_order o			ON ol.c_order_id 		= o.c_order_id
   LEFT JOIN m_inoutline iol		ON il.m_inoutline_id		= iol.m_inoutline_id
   LEFT JOIN m_inout io			ON iol.m_inout_id		= io.m_inout_id
   LEFT JOIN c_tax t 			ON il.c_tax_id 			= t.c_tax_id
   LEFT JOIN m_product p 		ON il.m_product_id 		= p.m_product_id
   --LEFT JOIN c_subscription abo		ON ol.c_subscription_id 	= abo.c_subscription_id

   LEFT JOIN c_currency cur 		ON i.c_currency_id 		= cur.c_currency_id

   LEFT JOIN c_charge c 		ON il.c_charge_id 		= c.c_charge_id

   LEFT JOIN c_bpartner_location bpl	ON io.c_bpartner_location_id 	= bpl.c_bpartner_location_id
   LEFT JOIN c_location l		ON bpl.c_location_id 		= l.c_location_id
   LEFT JOIN c_bpartner	bp		ON io.c_bpartner_id 		= bp.c_bpartner_id

-----------------------------------------------------------
UNION
-----------------------------------------------------------

 SELECT
	il.C_InvoiceLine_ID,
	(SELECT AD_Language FROM AD_Language WHERE IsBaseLanguage = 'Y') AS ad_language,
	il.c_invoice_id			AS c_invoice_id,
	il.line + b.line / 100::numeric AS line,
	coalesce(ol.singlepricetag_id,
		ol.c_orderline_id)AS singlepricetag,
	CASE WHEN ol.singlepricetag_id IS NULL
		THEN true
		ELSE false
	END 				AS printprices,

	CASE WHEN ol.M_WareHouse_ID = org.Dropship_Warehouse_ID
		THEN true
		ELSE false
	END 				AS isdropship,

	p.m_product_id			AS m_product_id,
	NULL 				AS Prod_descr,
	il.qtyinvoiced * b.bomqty 	AS qtyinvoiced,
	il.qtyentered * b.bomqty 	AS qtyentered,
	null				AS qtybackordered,
	uom.uomsymbol			AS uomsymbol,
	--null				AS abo_name,
	--null				AS abo_descr,
	b.description			AS description,
	NULL::"unknown" 		AS pricelist,
	NULL::"unknown" 		AS priceenteredlist,
	NULL::"unknown" 		AS discount,
	NULL::"unknown" 		AS priceactual,
	NULL::"unknown" 		AS priceentered,
	NULL::"unknown" 		AS linenetamt,
	NULL::"unknown"			AS iso_code,
	NULL::"unknown"			AS taxrate,
	NULL::"unknown"			AS m_inout_id,
	NULL::"unknown"			AS inout_docno,
	NULL::"unknown"			AS inout_date,
	NULL::"unknown"			AS order_docno,
	NULL::"unknown"			AS order_poreference,
	NULL::"unknown"			AS order_dateordered,
	NULL::"unknown"			AS bp_addressblock,
	NULL::"unknown"			AS isdiscountprinted,

	'BO'				AS source

   FROM m_product_bom b
   JOIN c_invoiceline il ON b.m_product_id = il.m_product_id
   JOIN AD_OrgInfo org ON il.AD_Org_ID = org.AD_Org_ID
   JOIN C_OrderLine ol ON il.C_OrderLine_ID = ol.C_OrderLine_ID
   JOIN m_product bp ON bp.m_product_id = il.m_product_id AND bp.isbom = 'Y'::bpchar AND bp.isverified = 'Y'::bpchar AND bp.isinvoiceprintdetails = 'Y'::bpchar
   JOIN m_product p ON b.m_productbom_id = p.m_product_id
   JOIN c_uom uom ON p.c_uom_id = uom.c_uom_id
   LEFT JOIN c_tax t ON il.c_tax_id = t.c_tax_id
   LEFT JOIN m_attributesetinstance asi ON il.m_attributesetinstance_id = asi.m_attributesetinstance_id

-----------------------------------------------------------
UNION
-----------------------------------------------------------

SELECT
	il.C_InvoiceLine_ID,
	uom.ad_language				AS ad_langauage,
	il.c_invoice_id				AS c_invoice_id,
	il.line					AS line,
	coalesce(ol.singlepricetag_id,
		ol.c_orderline_id)	AS singlepricetag,

	CASE WHEN ol.singlepricetag_id IS NULL
		THEN true
		ELSE false
	END 					AS printprices,

	CASE WHEN ol.M_WareHouse_ID = org.Dropship_Warehouse_ID
		THEN true
		ELSE false
	END 					AS isdropship,

	p.m_product_id				AS m_product_id,
	CASE WHEN ol.isindividualdescription = 'Y'
		THEN il.productdescription
		ELSE NULL
	END AS Prod_descr,
	il.qtyinvoiced				AS qtyinvoiced,
	il.qtyentered				AS qtyentered,
	ol.qtyordered - ol.qtydelivered		AS qtybackordered,
	uom.uomsymbol				AS uomsymbol,
	--abo.name 				AS abo_name,
	--abo.description				AS abo_descr,
	il.description				AS description,
	il.pricelist				AS pricelist,

	CASE WHEN il.qtyentered <> 0::numeric
		THEN il.pricelist * il.qtyinvoiced / il.qtyentered
		ELSE NULL::numeric
	END AS priceenteredlist,

	ol.discount				AS discount,
	CASE WHEN i.istaxincluded='Y'
		THEN (il.priceactual/(100+t0.rate)*100)
		ELSE null
	END AS priceactual,
	il.priceentered				AS priceentered,
	il.linenetamt				AS linenetamt,
	COALESCE(cur.cursymbol,cur.iso_code) 	as iso_code,
	t0.rate					as taxrate,
	io.m_inout_id				as m_inout_id,
	io.documentno 				as inout_docno,
	io.movementdate 			as inout_date,
	o.documentno 				as order_docno,

	CASE WHEN o.poreference IS NULL
		THEN ' '
		ELSE o.poreference
	END 					AS order_poreference,

	o.dateordered				as order_dateordered,
case when bpl.isshipto = bpl.isbillto then null else
	coalesce(regexp_replace(io.bpartneraddress, '\\n', ', ', 'g'), trim(
	case when bp.name 	is null then ''	else bp.name || ' - '	end ||
	case when bp.name2 	is null then ''	else bp.name2 || ', '	end ||
	case when l.address1 	is null then ''	else l.address1 || ', '	end ||
	case when l.address2 	is null then ''	else l.address2 || ', '	end ||
	case when l.address3 	is null then ''	else l.address3 || ', '	end ||
	case when l.address4 	is null then ''	else l.address4 || ', '	end ||
	case when l.postal 	is null then ''	else l.postal		end ||
	case when l.city 	is null then ''	else ' ' || l.city	end
	)) end as bp_addressblock,
	i.isdiscountprinted,

	case when il.m_product_id IS NULL
		then 'DEL'
		else
		case when il.qtyinvoiced = 0
			then 'NOAMT'
			else 'IL'
		end
	end as tag

FROM
	c_invoiceline il
	JOIN AD_OrgInfo org		ON il.AD_Org_ID		= org.AD_Org_ID
	JOIN c_uom_trl uom 		ON il.c_uom_id 		= uom.c_uom_id
	JOIN c_invoice i 		ON il.c_invoice_id 	= i.c_invoice_id
   LEFT JOIN c_orderline ol		ON il.c_orderline_id	= ol.c_orderline_id
   left JOIN c_order o			ON ol.c_order_id 	= o.c_order_id
   LEFT JOIN m_inoutline iol		ON il.m_inoutline_id	= iol.m_inoutline_id
   LEFT JOIN m_inout io			ON iol.m_inout_id	= io.m_inout_id
   LEFT JOIN c_tax t0 			ON il.c_tax_id 		= t0.c_tax_id
   LEFT JOIN c_tax_trl t 		ON il.c_tax_id 		= t.c_tax_id AND uom.ad_language::text = t.ad_language::text
   LEFT JOIN m_product p 		ON il.m_product_id 	= p.m_product_id
  -- LEFT JOIN c_subscription abo		ON ol.c_subscription_id = abo.c_subscription_id

   LEFT JOIN c_currency cur 		ON i.c_currency_id 	= cur.c_currency_id

   LEFT JOIN c_charge c 		ON il.c_charge_id 	= c.c_charge_id
   LEFT JOIN m_product_trl pt 		ON il.m_product_id 	= pt.m_product_id AND uom.ad_language::text = pt.ad_language::text

   LEFT JOIN c_bpartner_location bpl	ON io.c_bpartner_location_id = bpl.c_bpartner_location_id
   LEFT JOIN c_location l		ON bpl.c_location_id 	= l.c_location_id
   LEFT JOIN c_bpartner	bp		ON io.c_bpartner_id 	= bp.c_bpartner_id

-----------------------------------------------------------
UNION
-----------------------------------------------------------

 SELECT
	il.C_InvoiceLine_ID,
	uom.ad_language			AS ad_language,
	il.c_invoice_id			AS c_invoice_id,
	il.line + b.line / 100::numeric AS line,
	coalesce(ol.singlepricetag_id,
		ol.c_orderline_id)AS singlepricetag,
	CASE WHEN ol.singlepricetag_id IS NULL
		THEN true
		ELSE false
	END 				AS printprices,

	CASE WHEN ol.M_WareHouse_ID = org.Dropship_Warehouse_ID
		THEN true
		ELSE false
	END 				AS isdropship,

	p.m_product_id			AS m_product_id,
	NULL 				AS Prod_descr,
	il.qtyinvoiced * b.bomqty 	AS qtyinvoiced,
	il.qtyentered * b.bomqty 	AS qtyentered,
	null				AS qtybackordered,
	uom.uomsymbol			AS uomsymbol,
	--null				AS abo_name,
	--null				AS abo_descr,
	b.description			AS description,
	NULL::"unknown" 		AS pricelist,
	NULL::"unknown" 		AS priceenteredlist,
	NULL::"unknown" 		AS discount,
	NULL::"unknown" 		AS priceactual,
	NULL::"unknown" 		AS priceentered,
	NULL::"unknown" 		AS linenetamt,

	NULL::"unknown"			AS iso_code,
	NULL::"unknown"			AS taxrate,
	NULL::"unknown"			AS m_inout_id,
	NULL::"unknown"			AS inout_docno,
	NULL::"unknown"			AS inout_date,
	NULL::"unknown"			AS order_docno,
	NULL::"unknown"			AS order_poreference,
	NULL::"unknown"			AS order_dateordered,
	NULL::"unknown"			AS bp_addressblock,
	NULL::"unknown"			AS isdiscountprinted,
'BO' as tag
   FROM m_product_bom b
   JOIN c_invoiceline il 		ON b.m_product_id = il.m_product_id
   JOIN AD_OrgInfo org			ON il.AD_Org_ID = org.AD_Org_ID
   JOIN C_OrderLine ol 			ON il.C_OrderLine_ID = ol.C_OrderLine_ID
   JOIN m_product bp 			ON bp.m_product_id = il.m_product_id AND bp.isbom = 'Y'::bpchar AND bp.isverified = 'Y'::bpchar AND bp.isinvoiceprintdetails = 'Y'::bpchar
   JOIN m_product p 			ON b.m_productbom_id = p.m_product_id
   JOIN c_uom_trl uom 			ON p.c_uom_id = uom.c_uom_id
   JOIN m_product_trl pt 		ON b.m_productbom_id = pt.m_product_id AND uom.ad_language::text = pt.ad_language::text
   LEFT JOIN c_tax t 			ON il.c_tax_id = t.c_tax_id

UNION

--Kommentar zeilen CMT
 SELECT
	il.C_InvoiceLine_ID,
	null				AS ad_language,
	il.c_invoice_id			AS c_invoice_id,
	il.line 			AS line,
	coalesce(ol.singlepricetag_id,
		ol.c_orderline_id)AS singlepricetag,
	CASE WHEN ol.singlepricetag_id IS NULL
		THEN true
		ELSE false
	END 				AS printprices,

	CASE WHEN ol.M_WareHouse_ID = org.Dropship_Warehouse_ID
		THEN true
		ELSE false
	END 					AS isdropship,

	il.m_product_id			AS m_product_id,
	CASE WHEN ol.isindividualdescription = 'Y'
		THEN il.productdescription
		ELSE NULL
	END AS Prod_descr,
	null 				AS qtyinvoiced,
	null 				AS qtyentered,
	null				AS qtybackordered,
	null				AS uomsymbol,
	--null				AS abo_name,
	--null				AS abo_descr,
	trim (
		il.description ||
		CASE WHEN o.promotioncode IS NOT NULL AND pr.m_promotion_id IS NOT NULL
			THEN '(' || o.promotioncode || ')'
			ELSE ''
		END)			AS description,
	NULL::"unknown" 		AS pricelist,
	NULL::"unknown" 		AS priceenteredlist,
	NULL::"unknown" 		AS discount,
	NULL::"unknown" 		AS priceactual,
	NULL::"unknown" 		AS priceentered,
	il.linenetamt	 		AS linenetamt,
	COALESCE(cur.cursymbol, cur.iso_code)AS iso_code,
	t.rate 				AS taxrate,
	io.m_inout_id			as m_inout_id,
	io.documentno 			as inout_docno,
	io.movementdate 		as inout_date,
	o.documentno 			as order_docno,

	CASE WHEN o.poreference IS NULL
		THEN ' '
		ELSE o.poreference
	END AS order_poreference,
	o.dateordered			as order_dateordered,
	NULL::"unknown"			AS bp_addressblock,
	NULL::"unknown" 		AS isdiscountprinted,

	CASE WHEN il.m_product_id IS NOT NULL
		THEN 'DEL'
		ELSE
		CASE WHEN il.c_tax_id IS NULL
			THEN 'SYSCMT'
			ELSE
			CASE WHEN ol.iscomment = 'Y'
				THEN 'CMT'
				ELSE 'PROMO'
			END
		END
	END AS source
   FROM
	c_invoiceline il
	JOIN AD_OrgInfo org ON il.AD_Org_ID = org.AD_Org_ID
	JOIN c_invoice i ON il.c_invoice_id = i.c_invoice_id
	LEFT JOIN c_orderline ol ON il.c_orderline_id = ol.c_orderline_id
	LEFT JOIN c_order o ON ol.c_order_id = o.c_order_id
	LEFT JOIN m_inoutline iol ON il.m_inoutline_id = iol.m_inoutline_id
	LEFT JOIN m_inout io ON iol.m_inout_id = io.m_inout_id
	LEFT JOIN c_currency cur ON ol.c_currency_id = cur.c_currency_id
	LEFT JOIN c_tax t ON il.c_tax_id = t.c_tax_id
	LEFT JOIN m_promotion pr ON ol.m_promotion_id = pr.m_promotion_id
) as invoiceline
where
	invoiceline.c_invoice_id = $P{c_invoice_id}
	and (invoiceline.ad_language = $P{ad_language} or invoiceline.tag LIKE '%CMT')
	and invoiceline.line > 0
	and invoiceline.tag NOT IN('DEL','SYSCMT')
order by
	(SELECT	MIN(sub_il.line)
	FROM 	C_InvoiceLine sub_il
		JOIN m_inoutline sub_iol ON sub_il.m_inoutline_id = sub_iol.m_inoutline_id
	WHERE 	invoiceline.C_Invoice_ID = sub_il.C_Invoice_ID
		AND invoiceline.M_InOut_ID = sub_iol.M_InOut_ID
	),

	(SELECT	MIN(sub_il2.line)
	FROM	C_InvoiceLine sub_il2
		JOIN C_OrderLine sub_ol ON sub_il2.C_OrderLine_ID = sub_ol.C_OrderLine_ID
	WHERE	coalesce(sub_ol.singlepricetag_id, sub_ol.c_orderline_id) = invoiceline.singlepricetag
		AND sub_il2.C_Invoice_ID = invoiceline.C_Invoice_ID
	),

	invoiceline.line
;]]>
	</queryString>
	<field name="c_invoiceline_id" class="java.math.BigDecimal"/>
	<field name="ad_language" class="java.lang.String"/>
	<field name="c_invoice_id" class="java.math.BigDecimal"/>
	<field name="line" class="java.math.BigDecimal"/>
	<field name="singlepricetag" class="java.math.BigDecimal"/>
	<field name="printprices" class="java.lang.Boolean"/>
	<field name="isdropship" class="java.lang.Boolean"/>
	<field name="m_product_id" class="java.math.BigDecimal"/>
	<field name="prod_descr" class="java.lang.String"/>
	<field name="qtyinvoiced" class="java.math.BigDecimal"/>
	<field name="qtyentered" class="java.math.BigDecimal"/>
	<field name="qtybackordered" class="java.math.BigDecimal"/>
	<field name="uomsymbol" class="java.lang.String"/>
	<field name="description" class="java.lang.String"/>
	<field name="pricelist" class="java.math.BigDecimal"/>
	<field name="priceenteredlist" class="java.math.BigDecimal"/>
	<field name="discount" class="java.math.BigDecimal"/>
	<field name="priceactual" class="java.math.BigDecimal"/>
	<field name="priceentered" class="java.math.BigDecimal"/>
	<field name="linenetamt" class="java.math.BigDecimal"/>
	<field name="iso_code" class="java.lang.String"/>
	<field name="taxrate" class="java.math.BigDecimal"/>
	<field name="m_inout_id" class="java.math.BigDecimal"/>
	<field name="inout_docno" class="java.lang.String"/>
	<field name="inout_date" class="java.sql.Timestamp"/>
	<field name="order_docno" class="java.lang.String"/>
	<field name="order_poreference" class="java.lang.String"/>
	<field name="order_dateordered" class="java.sql.Timestamp"/>
	<field name="bp_addressblock" class="java.lang.String"/>
	<field name="isdiscountprinted" class="java.lang.String"/>
	<field name="tag" class="java.lang.String"/>
	<variable name="LINESUM_SUM" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{linenetamt}]]></variableExpression>
		<initialValueExpression><![CDATA[new BigDecimal(0)]]></initialValueExpression>
	</variable>
	<variable name="currency" class="java.lang.String">
		<variableExpression><![CDATA[$F{iso_code}]]></variableExpression>
		<initialValueExpression><![CDATA[$F{iso_code}]]></initialValueExpression>
	</variable>
	<variable name="paketSum" class="java.math.BigDecimal" resetType="Group" resetGroup="Paket" calculation="Sum">
		<variableExpression><![CDATA[$F{linenetamt}]]></variableExpression>
	</variable>
	<group name="m_inout_id">
		<groupExpression><![CDATA[$F{m_inout_id}]]></groupExpression>
		<groupHeader>
			<band height="28" splitType="Stretch">
				<printWhenExpression><![CDATA[new Boolean
(
        ($F{bp_addressblock}==null || $F{bp_addressblock}.equals(""))
        && ($F{inout_docno}!=null)
)]]></printWhenExpression>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement uuid="36bab5d1-cbc2-4835-aefd-6047b754b452" key="textField-62" mode="Transparent" x="110" y="4" width="255" height="14" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true">
						<printWhenExpression><![CDATA[new Boolean ($F{inout_docno}!=null)]]></printWhenExpression>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font fontName="SansSerif" size="9" isBold="true" pdfFontName="Helvetica"/>
					</textElement>
					<textFieldExpression><![CDATA[($F{isdropship}.equals("N")?
    $F{inout_docno}+" "+ $R{ofdate}+" ":
    ""
) + java.text.DateFormat.getDateInstance().format($F{inout_date})]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement uuid="8bd09164-7cc4-4b11-a821-9af941eceb12" key="textField-67" mode="Transparent" x="36" y="4" width="74" height="14" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true">
						<printWhenExpression><![CDATA[new Boolean ($F{inout_docno}!=null)]]></printWhenExpression>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font fontName="SansSerif" size="9" isBold="true" pdfFontName="Helvetica"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{isdropship}.equals("N")?
    $R{shipmentno}:
    $R{shipment} + $R{ofdate} + ":"]]></textFieldExpression>
				</textField>
				<line>
					<reportElement uuid="b98af42f-a0ea-4850-95d4-8ec73f17621d" key="line-1" x="34" y="26" width="516" height="1" forecolor="#000000"/>
				</line>
			</band>
			<band height="41">
				<printWhenExpression><![CDATA[new Boolean
(
    ($F{bp_addressblock}!=null || !$F{bp_addressblock}.equals(""))
    && ($F{inout_docno}!=null)
)]]></printWhenExpression>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement uuid="64a073e6-eb82-4aff-bbc4-814b76702320" key="textField-66" mode="Transparent" x="110" y="17" width="416" height="14" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true">
						<printWhenExpression><![CDATA[new Boolean(!($F{bp_addressblock}.equals("")))]]></printWhenExpression>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font fontName="SansSerif" size="9" isBold="true" pdfFontName="Helvetica"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{bp_addressblock}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement uuid="27a51cb3-83e3-4a95-8079-9b3c8b733b9e" key="textField-68" mode="Transparent" x="36" y="17" width="74" height="14" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true">
						<printWhenExpression><![CDATA[new Boolean(!($F{bp_addressblock}.equals("")))]]></printWhenExpression>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font fontName="SansSerif" size="9" isBold="true" pdfFontName="Helvetica"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{deliverto}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement uuid="14dce41e-bdac-4cf3-832b-fe8501b69a41" key="textField-67" mode="Transparent" x="36" y="4" width="74" height="14" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true">
						<printWhenExpression><![CDATA[new Boolean ($F{inout_docno}!=null)]]></printWhenExpression>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font fontName="SansSerif" size="9" isBold="true" pdfFontName="Helvetica"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{isdropship}.equals("N")?
    $R{shipmentno}:
    $R{shipment} + $R{ofdate} + ":"]]></textFieldExpression>
				</textField>
				<line>
					<reportElement uuid="a95db105-296c-43a2-b5ce-ef344673647a" key="line-1" x="34" y="39" width="516" height="1" forecolor="#000000"/>
				</line>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement uuid="7a955b00-e237-4c78-9935-fc99471ca1a1" key="textField-62" mode="Transparent" x="110" y="4" width="255" height="14" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true">
						<printWhenExpression><![CDATA[new Boolean ($F{inout_docno}!=null)]]></printWhenExpression>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font fontName="SansSerif" size="9" isBold="true" pdfFontName="Helvetica"/>
					</textElement>
					<textFieldExpression><![CDATA[($F{isdropship}.equals("N")?
    $F{inout_docno}+" "+ $R{ofdate}+" ":
    ""
) + java.text.DateFormat.getDateInstance().format($F{inout_date})]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band splitType="Stretch"/>
		</groupFooter>
	</group>
	<group name="Paket">
		<groupExpression><![CDATA[$F{singlepricetag}]]></groupExpression>
		<groupFooter>
			<band height="29">
				<printWhenExpression><![CDATA[new Boolean($F{singlepricetag} != null)]]></printWhenExpression>
				<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
					<reportElement uuid="02abff85-529b-453c-8913-4f22c977fef5" key="textField-53" mode="Transparent" x="471" y="0" width="70" height="12" forecolor="#000000" backcolor="#FFFFFF"/>
					<box rightPadding="1">
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right">
						<font fontName="SansSerif" size="9" isItalic="true" pdfFontName="Helvetica-Oblique"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{paketSum}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="false">
					<reportElement uuid="ca7a6132-eab8-411e-b517-272005cf69ef" key="textField-52" mode="Transparent" x="332" y="0" width="139" height="12" forecolor="#000000"/>
					<box rightPadding="4">
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font size="9" isItalic="true" pdfFontName="Helvetica-Oblique"/>
					</textElement>
					<textFieldExpression><![CDATA[$R{packageprice}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement uuid="3b6d6945-d6cd-4050-a25d-78984c32231f" key="textField-54" mode="Transparent" x="540" y="0" width="16" height="12"/>
					<box leftPadding="2">
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font size="9" isItalic="true" pdfFontName="Helvetica-Oblique"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{iso_code}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="32" splitType="Stretch">
			<rectangle>
				<reportElement uuid="0b95db12-9343-4659-8bf2-502d8173edd2" key="rectangle-1" mode="Opaque" x="34" y="1" width="516" height="18" forecolor="#666666" backcolor="#666666"/>
			</rectangle>
			<textField isBlankWhenNull="false">
				<reportElement uuid="99bcf2db-e51f-40bb-be2e-fe658f732efc" key="textField-13" x="61" y="0" width="45" height="13" forecolor="#FFFFFF"/>
				<box rightPadding="5">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{amt}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement uuid="8db68812-db26-473f-b0d3-c4173bf07dc4" key="textField-16" x="115" y="0" width="160" height="13" forecolor="#FFFFFF"/>
				<box rightPadding="5">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{product}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement uuid="93ba928f-823f-444b-9230-7954a8659320" key="textField-18" x="374" y="0" width="42" height="13" forecolor="#FFFFFF">
					<printWhenExpression><![CDATA[$F{isdiscountprinted}.equals("Y")?new Boolean(true):new Boolean(false)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{discount}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement uuid="89664610-1040-43b9-b866-b491c7b0fee4" key="textField-19" x="415" y="0" width="68" height="13" forecolor="#FFFFFF"/>
				<box rightPadding="8">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{price}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement uuid="9ce667fc-1934-4775-abfe-925e1585c792" key="textField-20" x="481" y="0" width="71" height="13" forecolor="#FFFFFF"/>
				<box rightPadding="8">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{price.linesum}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement uuid="100b615b-2044-4aba-b2c1-034e0982e5ea" key="textField-46" x="332" y="19" width="139" height="13" forecolor="#000000">
					<printWhenExpression><![CDATA[new Boolean($V{PAGE_NUMBER}.intValue() > 1)]]></printWhenExpression>
				</reportElement>
				<box rightPadding="4">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9" isItalic="true" pdfFontName="Helvetica-Oblique"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{carry}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement uuid="e394fb92-4b51-439d-a8c9-9fa53729df67" key="textField-47" mode="Transparent" x="471" y="19" width="70" height="13" forecolor="#000000" backcolor="#FFFFFF">
					<printWhenExpression><![CDATA[new Boolean($V{PAGE_NUMBER}.intValue() > 1)]]></printWhenExpression>
				</reportElement>
				<box rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="9" isItalic="true" pdfFontName="Helvetica-Oblique"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{LINESUM_SUM}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="169ea004-74e2-418a-8814-0ac5544b1661" key="textField-48" x="540" y="19" width="16" height="13">
					<printWhenExpression><![CDATA[new Boolean($V{PAGE_NUMBER}.intValue() > 1)]]></printWhenExpression>
				</reportElement>
				<box leftPadding="2">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9" isItalic="true" pdfFontName="Helvetica-Oblique"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{iso_code}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement uuid="9773c5da-5c1f-497f-bb3c-6d1ddab78371" key="textField-52" x="37" y="0" width="22" height="13" forecolor="#FFFFFF"/>
				<box rightPadding="5">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{pos}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement uuid="50d0c526-2d88-43a1-8ae4-33b30d89dc38" key="textField-63" x="312" y="0" width="62" height="13" forecolor="#FFFFFF">
					<printWhenExpression><![CDATA[$F{isdiscountprinted}.equals("Y")?new Boolean(true):new Boolean(false)]]></printWhenExpression>
				</reportElement>
				<box rightPadding="8">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{price.list}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement uuid="0c4fe703-506c-40cd-bb3f-f9400131e38a" key="textField-19" x="417" y="10" width="59" height="9" forecolor="#FFFFFF">
					<printWhenExpression><![CDATA[$F{priceactual}.equals(null)?new Boolean(false):new Boolean(true)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA["(" + $R{price.net} + ")"]]></textFieldExpression>
			</textField>
		</band>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField isStretchWithOverflow="true" pattern="###0.##" isBlankWhenNull="true">
				<reportElement uuid="5b0421d0-5459-4a84-a72a-6426a9ea725d" key="textField-24" mode="Transparent" x="61" y="0" width="34" height="13" forecolor="#000000" backcolor="#FFFFFF"/>
				<box rightPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="9" isBold="false" pdfFontName="Helvetica"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{qtyinvoiced}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="243d8089-ba59-4f0e-a4d4-b970c5571b72" key="textField-25" mode="Transparent" x="96" y="0" width="19" height="13"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{uomsymbol}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0.##" isBlankWhenNull="true">
				<reportElement uuid="bd8cbf74-8094-4fda-a07f-b9097e267149" key="textField-32" mode="Transparent" x="374" y="0" width="33" height="13" forecolor="#000000" backcolor="#FFFFFF">
					<printWhenExpression><![CDATA[new Boolean( $F{discount}.intValue() > 0 && $F{isdiscountprinted}.equals( "Y" )
    && $F{printprices}.booleanValue())]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{discount}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement uuid="dd11d327-5f30-4a78-955b-31a0fb982c28" key="textField-33" mode="Transparent" x="415" y="0" width="53" height="13" forecolor="#000000" backcolor="#FFFFFF">
					<printWhenExpression><![CDATA[new Boolean($F{printprices}.booleanValue())]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{priceentered}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement uuid="5fd08d1a-eb36-4c63-905f-3a667dc570a1" key="textField-34" mode="Transparent" x="482" y="0" width="59" height="13" forecolor="#000000" backcolor="#FFFFFF">
					<printWhenExpression><![CDATA[new Boolean(!$F{tag}.equals("CMT")
    && $F{printprices}.booleanValue())]]></printWhenExpression>
				</reportElement>
				<box rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{linenetamt}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="95da6a75-dc61-4b9d-b624-9664db883f8e" key="textField-35" mode="Transparent" x="540" y="0" width="16" height="13">
					<printWhenExpression><![CDATA[new Boolean(!$F{tag}.equals("CMT") && $F{linenetamt}.intValue() != 0
    && $F{printprices}.booleanValue())]]></printWhenExpression>
				</reportElement>
				<box leftPadding="2">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{iso_code}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###0" isBlankWhenNull="true">
				<reportElement uuid="a6310051-a576-4d8d-9cb7-9b7148794ed3" key="textField-53" mode="Transparent" x="37" y="0" width="22" height="13" forecolor="#000000"/>
				<box rightPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="SansSerif" size="9" isBold="false" pdfFontName="Helvetica"/>
				</textElement>
				<textFieldExpression><![CDATA[( $F{tag}.equals("BO") || $F{tag}.equals("CMT") ? null : $F{line} )]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement uuid="0b1225c3-fc56-4168-aad9-da3fd55de4a0" key="staticText-1" mode="Transparent" x="406" y="0" width="10" height="13">
					<printWhenExpression><![CDATA[new Boolean( $F{discount}.intValue() > 0 && $F{isdiscountprinted}.equals( "Y" )
    && $F{printprices}.booleanValue())]]></printWhenExpression>
				</reportElement>
				<box leftPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9"/>
				</textElement>
				<text><![CDATA[%]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement uuid="7e6f873f-26cf-44db-bb17-4c72214c6901" key="textField-59" mode="Transparent" x="467" y="0" width="16" height="13">
					<printWhenExpression><![CDATA[new Boolean($F{printprices}.booleanValue() && $F{priceentered} != null)]]></printWhenExpression>
				</reportElement>
				<box leftPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{iso_code}]]></textFieldExpression>
			</textField>
			<subreport isUsingCache="true">
				<reportElement uuid="d218eec4-6eb8-41fb-bf3e-ff1da9d907b9" key="subreport-4" mode="Transparent" x="115" y="0" width="177" height="13"/>
				<subreportParameter name="prod_descr">
					<subreportParameterExpression><![CDATA[$F{prod_descr}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="line_id">
					<subreportParameterExpression><![CDATA[$F{c_invoiceline_id}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="ad_language">
					<subreportParameterExpression><![CDATA[$F{ad_language}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="m_product_id">
					<subreportParameterExpression><![CDATA[$F{m_product_id}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="source">
					<subreportParameterExpression><![CDATA["IL"]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA["de/metas/docs/generics/report_details_line.jasper"]]></subreportExpression>
			</subreport>
			<textField isBlankWhenNull="true">
				<reportElement uuid="6bcdc48e-78c5-497e-a63f-ac44bc910486" key="textField-64" mode="Transparent" x="358" y="0" width="16" height="13">
					<printWhenExpression><![CDATA[new Boolean( $F{priceenteredlist}.intValue() > 0
    && $F{isdiscountprinted}.equals("Y")
    && $F{printprices}.booleanValue())]]></printWhenExpression>
				</reportElement>
				<box leftPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{iso_code}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement uuid="3e2de954-2a17-4949-a35c-1c1af662f454" key="textField-65" mode="Transparent" x="313" y="0" width="46" height="13" forecolor="#000000" backcolor="#FFFFFF">
					<printWhenExpression><![CDATA[new Boolean($F{isdiscountprinted}.equals("Y")
    && $F{printprices}.booleanValue())]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{pricelist}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="8b203263-e9b2-4a53-8408-509f89c0b0ee" key="textField-59" mode="Transparent" x="466" y="11" width="20" height="9">
					<printWhenExpression><![CDATA[new Boolean(!$F{priceactual}.equals(null)
    && $F{printprices}.booleanValue())]]></printWhenExpression>
				</reportElement>
				<box leftPadding="3">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{iso_code} + ")"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="( #,##0.00" isBlankWhenNull="true">
				<reportElement uuid="3825730d-e50c-416b-b44e-80604463d48b" key="textField-33" mode="Transparent" x="426" y="11" width="42" height="9" forecolor="#000000" backcolor="#FFFFFF">
					<printWhenExpression><![CDATA[new Boolean(!$F{priceactual}.equals(null)
    && $F{printprices}.booleanValue())]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{priceactual}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="15" splitType="Stretch">
			<textField isBlankWhenNull="false">
				<reportElement uuid="b1d21768-465c-4033-ac64-64e9252f03e5" key="textField-49" x="332" y="1" width="139" height="12" forecolor="#000000" backcolor="#FFFFFF"/>
				<box rightPadding="4">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9" isItalic="true" pdfFontName="Helvetica-Oblique"/>
				</textElement>
				<textFieldExpression><![CDATA[$R{subtotal}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement uuid="37dfea80-9dd8-4ed2-83fa-f0715b737a0a" key="textField-50" mode="Transparent" x="471" y="1" width="70" height="12" forecolor="#000000" backcolor="#FFFFFF"/>
				<box rightPadding="1">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font fontName="SansSerif" size="9" isItalic="true" pdfFontName="Helvetica-Oblique"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{LINESUM_SUM}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement uuid="8dfac076-a18d-4ec2-90eb-8cc531d410a9" key="textField-51" x="540" y="1" width="16" height="12" backcolor="#FFFFFF"/>
				<box leftPadding="2">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9" isItalic="true" pdfFontName="Helvetica-Oblique"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{iso_code}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<lastPageFooter>
		<band height="73" splitType="Stretch">
			<subreport isUsingCache="true">
				<reportElement uuid="f1efff3c-0410-4e1f-a9ed-37345b500180" key="subreport-1" x="332" y="0" width="234" height="73"/>
				<subreportParameter name="kind">
					<subreportParameterExpression><![CDATA[new String("SUM")]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="ad_language">
					<subreportParameterExpression><![CDATA[$P{ad_language}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="c_invoice_id">
					<subreportParameterExpression><![CDATA[$P{c_invoice_id}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA["de/metas/docs/sales/invoice/report_details_sum.jasper"]]></subreportExpression>
			</subreport>
			<subreport isUsingCache="true">
				<reportElement uuid="5ed0749d-7105-4d10-a858-7b8072ddde2b" key="subreport-1" x="89" y="0" width="234" height="73"/>
				<subreportParameter name="kind">
					<subreportParameterExpression><![CDATA[new String("TAX")]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="ad_language">
					<subreportParameterExpression><![CDATA[$P{ad_language}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="c_invoice_id">
					<subreportParameterExpression><![CDATA[$P{c_invoice_id}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA["de/metas/docs/sales/invoice/report_details_sum.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</lastPageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
